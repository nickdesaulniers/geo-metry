/* This project (geo-metry) is Copyright 2014 Nick Desaulniers licensed under
 * the Beerware License.
 * https://raw.githubusercontent.com/nickdesaulniers/geo-metry/master/LICENSE.md
 *
 * This project contains Free and Open Source code from the following authors:
 *
 * webgl-shader-loader is Copyright 2014 Nick Desaulniers dual licensed under
 * the Beerware License & MPL2.0.
 * https://raw.githubusercontent.com/nickdesaulniers/webgl-shader-loader/master/LICENSE
 *
 * prims is Copywrite 2014 Nick Desaulniers licensed under the Beerware
 * License.
 * https://raw.githubusercontent.com/nickdesaulniers/prims/master/LICENSE.md
 *
 * document-register-element is Copywrite 2014 WebReflection licensed under the
 * MIT license.
 * https://raw.githubusercontent.com/WebReflection/document-register-element/master/LICENSE.txt
 *
 * gl-matrix is Copywrite 2013 Brandon Jones, Colin MacKenzie IV licensed under
 * the zlib license.
 * https://raw.githubusercontent.com/toji/gl-matrix/master/LICENSE.md
 *
 * color-strings is Copywrite 2011 Heather Arthur licensed under the MIT
 * license.
 * https://raw.githubusercontent.com/harthur/color-string/master/LICENSE
 */

!function(){function t(){function t(t,r,e){var n=Math.min(t.length,r.length),a=new Array(n);if(e>1||0>e)throw new Error("bad percent");for(var o=0;n>o;++o)a[o]=t[o]*(1-e)+r[o]*e;return a}function r(e,n,a,o,i){if(0===i)return e.concat(a,n).concat(e.concat(a,o),e.concat(n,o),n.concat(a,o));var u=t(e,n,.5),l=t(e,a,.5),s=t(e,o,.5),c=t(n,a,.5),h=t(n,o,.5),f=t(a,o,.5);return--i,r(e,u,l,s,i).concat(r(u,n,c,h,i),r(l,c,a,f,i),r(s,h,f,o,i))}function e(t,r){return[t[0]-r[0],t[1]-r[1],t[2]-r[2]]}function n(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}function a(t){var r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];return[t[0]/r,t[1]/r,t[2]/r]}var o=[[0,0,-1],[0,.9428,.3333],[-.8165,-.4714,.3333],[.8165,-.4714,.3333]];const i=3;for(var u=r(o[0],o[1],o[2],o[3],i),l=new Array(u.length),s=0;s<l.length/3;++s)l[s]=s;for(var c=[],s=0;s<u.length;s+=9){var h=[u[s],u[s+1],u[s+2]],f=[u[s+3],u[s+4],u[s+5]],d=[u[s+6],u[s+7],u[s+8]],g=a(n(e(h,f),e(h,d)));c=c.concat(g,g,g)}return{vertices:u,indices:l,normals:c}}var r=function(){function t(t){this.errors=[],this.vertexShader=this.fragmentShader=null,this.gl=r(t),this.gl||this.errors.push("webgl unsupported")}function r(t){return t instanceof HTMLCanvasElement?t.getContext("webgl")||t.getContext("experimental-webgl"):t}function e(t,r){function e(){++u===a&&r(i,o)}function n(t){i.push("Failed to load "+t.target.src),e()}for(var a=t.length,o=[],i=[],u=0,l=0;a>l;++l)o[l]=new Image,o[l].onload=e,o[l].onerror=n,o[l].src=t[l]}function n(t,r){var e="getActive"+r,n="get"+r+"Location";return function(r,a){for(var o=r.getProgramParameter(a,t),i={},u=null,l=0;o>l;++l)u=r[e](a,l).name,i[u]=r[n](a,u);return i}}var a=WebGLRenderingContext.prototype.VERTEX_SHADER,o=WebGLRenderingContext.prototype.FRAGMENT_SHADER;t.prototype={loadFromStr:function(t,r,e){"string"!=typeof t||"string"!=typeof r||"function"!=typeof e?(this.errors.push("Usage: loaderInstance.loadFromStr('', '', function (errors, program));"),e(this.errors,null,this.gl)):0===t.length||0===r.length?(this.errors.push("empty shader string"),e(this.errors,null,this.gl)):(this.vertexShader=this.compile(a,t),this.fragmentShader=this.compile(o,r),e(this.errors,this.link(),this.gl))},loadFromXHR:function(t,r,e){if("string"!=typeof t||"string"!=typeof r||"function"!=typeof e)return this.errors.push("Usage: loaderInstance.loadFromXHR('', '', function (errors, program));"),void e(this.errors,null,this.gl);if(0===t.length||0===r.length)return this.errors.push("empty shader path"),void e(this.errors,null,this.gl);var n=0,i=function(t,r){return function(a,o){return a?(this[t]=this.compile(r,o),void(++n>1&&e(this.errors,this.link(),this.gl))):(this.errors.push("xhr non 200 response code"),void e(this.errors,null,this.gl))}.bind(this)}.bind(this);this.fetch(t,i("vertexShader",a)),this.fetch(r,i("fragmentShader",o))},compile:function(t,r){var e=this.gl.createShader(t);return this.gl.shaderSource(e,r),this.gl.compileShader(e),this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS)||this.errors.push(this.gl.getShaderInfoLog(e)),e},link:function(){var t=this.gl.createProgram();return this.gl.attachShader(t,this.vertexShader),this.gl.attachShader(t,this.fragmentShader),this.gl.linkProgram(t),this.gl.getProgramParameter(t,this.gl.LINK_STATUS)||this.errors.push(this.gl.getProgramInfoLog(t)),t},fetch:function(t,r){var e=new XMLHttpRequest;e.open("GET",t),e.onload=function(){r(200===e.status,e.response)},e.send()}};var i=WebGLRenderingContext.prototype,u=n(i.ACTIVE_ATTRIBUTES,"Attrib"),l=n(i.ACTIVE_UNIFORMS,"Uniform");return t.prototype.getAttributes=u,t.prototype.getUniforms=l,t.load=function(n,a,o,i){o=o||[];var s=0,c=!1,h=!o.length,f=a.length,d=[],g=[],v=[],p=r(n);p||d.push("webgl unsupported"),h||e(o,function(t,r){t.length&&d.concat(t),v=r,h=!0,c&&i(d,p,g,v)}),a.forEach(function(r,e){if(e%2!==1){var n=new t(p);n.loadFromXHR(a[e],a[e+1],function(t,r){t.length&&d.concat(t),g[e/2]={attributes:u(p,r),program:r,uniforms:l(p,r)},++s===f/2&&(c=!0,h&&i(d,p,g,v))})}})},t}();if(function(t,r,e,n){"use strict";function a(t,r){for(var e=0,n=t.length;n>e;e++)f(t[e],r)}function o(t){for(var r,e=0,n=t.length;n>e;e++)r=t[e],h(r,E[u(r)])}function i(t){return function(r){R.call(H,r)&&(f(r,t),a(r.querySelectorAll(F),t))}}function u(t){var r=t.getAttribute("is");return S.call(k,r?r.toUpperCase():t.nodeName)}function l(t){var r=t.currentTarget,e=t.attrChange,n=t.prevValue,a=t.newValue;r.attributeChangedCallback&&"style"!==t.attrName&&r.attributeChangedCallback(t.attrName,e===t.ADDITION?null:n,e===t.REMOVAL?null:a)}function s(t){var r=i(t);return function(t){r(t.target)}}function c(t,r){var e=this;G.call(e,t,r),d.call(e,{target:e})}function h(t,r){D(t,r),p?p.observe(t,Y):(W&&(t.setAttribute=c,t[m]=v(t),t.addEventListener(y,d)),t.addEventListener(b,l)),t.createdCallback&&(t.created=!0,t.createdCallback(),t.created=!1)}function f(t,r){var e,n=u(t),a="attached",o="detached";n>-1&&(U(t,E[n]),n=0,r!==a||t[a]?r!==o||t[o]||(t[a]=!1,t[o]=!0,n=1):(t[o]=!1,t[a]=!0,n=1),n&&(e=t[r+"Callback"])&&e.call(t))}if(!(n in r)){var d,g,v,p,m="__"+n+(1e5*Math.random()>>0),M="extends",b="DOMAttrModified",y="DOMSubtreeModified",w=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,A=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],k=[],E=[],F="",C=r.documentElement,S=k.indexOf||function(t){for(var r=this.length;r--&&this[r]!==t;);return r},N=e.prototype,O=N.hasOwnProperty,R=N.isPrototypeOf,x=e.defineProperty,I=e.getOwnPropertyDescriptor,T=e.getOwnPropertyNames,P=e.getPrototypeOf,L=e.setPrototypeOf,q=!!e.__proto__,_=e.create||function Z(t){return t?(Z.prototype=t,new Z):this},D=L||(q?function(t,r){return t.__proto__=r,t}:T&&I?function(){function t(t,r){for(var e,n=T(r),a=0,o=n.length;o>a;a++)e=n[a],O.call(t,e)||x(t,e,I(r,e))}return function(r,e){do t(r,e);while(e=P(e));return r}}():function(t,r){for(var e in r)t[e]=r[e];return t}),U=L||q?function(t,r){R.call(r,t)||h(t,r)}:function(t,r){t[m]||(t[m]=e(!0),h(t,r))},V=t.MutationObserver||t.WebKitMutationObserver,H=(t.HTMLElement||t.Element||t.Node).prototype,B=H.cloneNode,G=H.setAttribute,X=r.createElement,Y=V&&{attributes:!0,characterData:!0,attributeOldValue:!0},j=V||function(){W=!1,C.removeEventListener(b,j)},z=!1,W=!0;V||(C.addEventListener(b,j),C.setAttribute(m,1),C.removeAttribute(m),W&&(d=function(t){var r,e,n,a=this;if(a===t.target){r=a[m],a[m]=e=v(a);for(n in e){if(!(n in r))return g(0,a,n,r[n],e[n],"ADDITION");if(e[n]!==r[n])return g(1,a,n,r[n],e[n],"MODIFICATION")}for(n in r)if(!(n in e))return g(2,a,n,r[n],e[n],"REMOVAL")}},g=function(t,r,e,n,a,o){var i={attrChange:t,currentTarget:r,attrName:e,prevValue:n,newValue:a};i[o]=t,l(i)},v=function(t){for(var r,e,n={},a=t.attributes,o=0,i=a.length;i>o;o++)r=a[o],e=r.name,"setAttribute"!==e&&(n[e]=r.value);return n})),r[n]=function(t,e){if(n=t.toUpperCase(),z||(z=!0,V?(p=function(t,r){function e(t,r){for(var e=0,n=t.length;n>e;r(t[e++]));}return new V(function(n){for(var a,o,i=0,u=n.length;u>i;i++)a=n[i],"childList"===a.type?(e(a.addedNodes,t),e(a.removedNodes,r)):(o=a.target,o.attributeChangedCallback&&"style"!==a.attributeName&&o.attributeChangedCallback(a.attributeName,a.oldValue,o.getAttribute(a.attributeName)))})}(i("attached"),i("detached")),p.observe(r,{childList:!0,subtree:!0})):(r.addEventListener("DOMNodeInserted",s("attached")),r.addEventListener("DOMNodeRemoved",s("detached"))),r.addEventListener("readystatechange",function(){a(r.querySelectorAll(F),"attached")}),r.createElement=function(t,e){var n,a=X.apply(r,arguments);return e&&a.setAttribute("is",t=e.toLowerCase()),n=S.call(k,t.toUpperCase()),n>-1&&h(a,E[n]),a},H.cloneNode=function(t){var r=B.call(this,!!t),e=u(r);return e>-1&&h(r,E[e]),t&&o(r.querySelectorAll(F)),r}),-1<S.call(k,n))throw new Error("A "+t+" type is already registered");if(!w.test(n)||-1<S.call(A,n))throw new Error("The type "+t+" is invalid");var n,l=function(){return r.createElement(d,f&&n)},c=e||N,f=O.call(c,M),d=f?e[M]:n,g=k.push(n)-1;return F=F.concat(F.length?",":"",f?d+'[is="'+t.toLowerCase()+'"]':d),l.prototype=E[g]=O.call(c,"prototype")?c.prototype:_(H),a(r.querySelectorAll(F),"attached"),l}}}(window,document,Object,"registerElement"),!e)var e=1e-6;if(!n)var n="undefined"!=typeof Float32Array?Float32Array:Array;if(!a)var a=Math.random;var o={};o.setMatrixArrayType=function(t){n=t},"undefined"!=typeof exports&&(exports.glMatrix=o);var i=Math.PI/180;o.toRadian=function(t){return t*i};var u={};u.create=function(){var t=new n(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},u.clone=function(t){var r=new n(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},u.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},u.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},u.transpose=function(t,r){if(t===r){var e=r[1],n=r[2],a=r[3],o=r[6],i=r[7],u=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=o,t[11]=r[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},u.invert=function(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],i=r[4],u=r[5],l=r[6],s=r[7],c=r[8],h=r[9],f=r[10],d=r[11],g=r[12],v=r[13],p=r[14],m=r[15],M=e*u-n*i,b=e*l-a*i,y=e*s-o*i,w=n*l-a*u,A=n*s-o*u,k=a*s-o*l,E=c*v-h*g,F=c*p-f*g,C=c*m-d*g,S=h*p-f*v,N=h*m-d*v,O=f*m-d*p,R=M*O-b*N+y*S+w*C-A*F+k*E;return R?(R=1/R,t[0]=(u*O-l*N+s*S)*R,t[1]=(a*N-n*O-o*S)*R,t[2]=(v*k-p*A+m*w)*R,t[3]=(f*A-h*k-d*w)*R,t[4]=(l*C-i*O-s*F)*R,t[5]=(e*O-a*C+o*F)*R,t[6]=(p*y-g*k-m*b)*R,t[7]=(c*k-f*y+d*b)*R,t[8]=(i*N-u*C+s*E)*R,t[9]=(n*C-e*N-o*E)*R,t[10]=(g*A-v*y+m*M)*R,t[11]=(h*y-c*A-d*M)*R,t[12]=(u*F-i*S-l*E)*R,t[13]=(e*S-n*F+a*E)*R,t[14]=(v*b-g*w-p*M)*R,t[15]=(c*w-h*b+f*M)*R,t):null},u.adjoint=function(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],i=r[4],u=r[5],l=r[6],s=r[7],c=r[8],h=r[9],f=r[10],d=r[11],g=r[12],v=r[13],p=r[14],m=r[15];return t[0]=u*(f*m-d*p)-h*(l*m-s*p)+v*(l*d-s*f),t[1]=-(n*(f*m-d*p)-h*(a*m-o*p)+v*(a*d-o*f)),t[2]=n*(l*m-s*p)-u*(a*m-o*p)+v*(a*s-o*l),t[3]=-(n*(l*d-s*f)-u*(a*d-o*f)+h*(a*s-o*l)),t[4]=-(i*(f*m-d*p)-c*(l*m-s*p)+g*(l*d-s*f)),t[5]=e*(f*m-d*p)-c*(a*m-o*p)+g*(a*d-o*f),t[6]=-(e*(l*m-s*p)-i*(a*m-o*p)+g*(a*s-o*l)),t[7]=e*(l*d-s*f)-i*(a*d-o*f)+c*(a*s-o*l),t[8]=i*(h*m-d*v)-c*(u*m-s*v)+g*(u*d-s*h),t[9]=-(e*(h*m-d*v)-c*(n*m-o*v)+g*(n*d-o*h)),t[10]=e*(u*m-s*v)-i*(n*m-o*v)+g*(n*s-o*u),t[11]=-(e*(u*d-s*h)-i*(n*d-o*h)+c*(n*s-o*u)),t[12]=-(i*(h*p-f*v)-c*(u*p-l*v)+g*(u*f-l*h)),t[13]=e*(h*p-f*v)-c*(n*p-a*v)+g*(n*f-a*h),t[14]=-(e*(u*p-l*v)-i*(n*p-a*v)+g*(n*l-a*u)),t[15]=e*(u*f-l*h)-i*(n*f-a*h)+c*(n*l-a*u),t},u.determinant=function(t){var r=t[0],e=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8],c=t[9],h=t[10],f=t[11],d=t[12],g=t[13],v=t[14],p=t[15],m=r*i-e*o,M=r*u-n*o,b=r*l-a*o,y=e*u-n*i,w=e*l-a*i,A=n*l-a*u,k=s*g-c*d,E=s*v-h*d,F=s*p-f*d,C=c*v-h*g,S=c*p-f*g,N=h*p-f*v;return m*N-M*S+b*C+y*F-w*E+A*k},u.multiply=function(t,r,e){var n=r[0],a=r[1],o=r[2],i=r[3],u=r[4],l=r[5],s=r[6],c=r[7],h=r[8],f=r[9],d=r[10],g=r[11],v=r[12],p=r[13],m=r[14],M=r[15],b=e[0],y=e[1],w=e[2],A=e[3];return t[0]=b*n+y*u+w*h+A*v,t[1]=b*a+y*l+w*f+A*p,t[2]=b*o+y*s+w*d+A*m,t[3]=b*i+y*c+w*g+A*M,b=e[4],y=e[5],w=e[6],A=e[7],t[4]=b*n+y*u+w*h+A*v,t[5]=b*a+y*l+w*f+A*p,t[6]=b*o+y*s+w*d+A*m,t[7]=b*i+y*c+w*g+A*M,b=e[8],y=e[9],w=e[10],A=e[11],t[8]=b*n+y*u+w*h+A*v,t[9]=b*a+y*l+w*f+A*p,t[10]=b*o+y*s+w*d+A*m,t[11]=b*i+y*c+w*g+A*M,b=e[12],y=e[13],w=e[14],A=e[15],t[12]=b*n+y*u+w*h+A*v,t[13]=b*a+y*l+w*f+A*p,t[14]=b*o+y*s+w*d+A*m,t[15]=b*i+y*c+w*g+A*M,t},u.mul=u.multiply,u.translate=function(t,r,e){var n,a,o,i,u,l,s,c,h,f,d,g,v=e[0],p=e[1],m=e[2];return r===t?(t[12]=r[0]*v+r[4]*p+r[8]*m+r[12],t[13]=r[1]*v+r[5]*p+r[9]*m+r[13],t[14]=r[2]*v+r[6]*p+r[10]*m+r[14],t[15]=r[3]*v+r[7]*p+r[11]*m+r[15]):(n=r[0],a=r[1],o=r[2],i=r[3],u=r[4],l=r[5],s=r[6],c=r[7],h=r[8],f=r[9],d=r[10],g=r[11],t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=s,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=g,t[12]=n*v+u*p+h*m+r[12],t[13]=a*v+l*p+f*m+r[13],t[14]=o*v+s*p+d*m+r[14],t[15]=i*v+c*p+g*m+r[15]),t},u.scale=function(t,r,e){var n=e[0],a=e[1],o=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},u.rotate=function(t,r,n,a){var o,i,u,l,s,c,h,f,d,g,v,p,m,M,b,y,w,A,k,E,F,C,S,N,O=a[0],R=a[1],x=a[2],I=Math.sqrt(O*O+R*R+x*x);return Math.abs(I)<e?null:(I=1/I,O*=I,R*=I,x*=I,o=Math.sin(n),i=Math.cos(n),u=1-i,l=r[0],s=r[1],c=r[2],h=r[3],f=r[4],d=r[5],g=r[6],v=r[7],p=r[8],m=r[9],M=r[10],b=r[11],y=O*O*u+i,w=R*O*u+x*o,A=x*O*u-R*o,k=O*R*u-x*o,E=R*R*u+i,F=x*R*u+O*o,C=O*x*u+R*o,S=R*x*u-O*o,N=x*x*u+i,t[0]=l*y+f*w+p*A,t[1]=s*y+d*w+m*A,t[2]=c*y+g*w+M*A,t[3]=h*y+v*w+b*A,t[4]=l*k+f*E+p*F,t[5]=s*k+d*E+m*F,t[6]=c*k+g*E+M*F,t[7]=h*k+v*E+b*F,t[8]=l*C+f*S+p*N,t[9]=s*C+d*S+m*N,t[10]=c*C+g*S+M*N,t[11]=h*C+v*S+b*N,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},u.rotateX=function(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[4],i=r[5],u=r[6],l=r[7],s=r[8],c=r[9],h=r[10],f=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*a+s*n,t[5]=i*a+c*n,t[6]=u*a+h*n,t[7]=l*a+f*n,t[8]=s*a-o*n,t[9]=c*a-i*n,t[10]=h*a-u*n,t[11]=f*a-l*n,t},u.rotateY=function(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[0],i=r[1],u=r[2],l=r[3],s=r[8],c=r[9],h=r[10],f=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a-s*n,t[1]=i*a-c*n,t[2]=u*a-h*n,t[3]=l*a-f*n,t[8]=o*n+s*a,t[9]=i*n+c*a,t[10]=u*n+h*a,t[11]=l*n+f*a,t},u.rotateZ=function(t,r,e){var n=Math.sin(e),a=Math.cos(e),o=r[0],i=r[1],u=r[2],l=r[3],s=r[4],c=r[5],h=r[6],f=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*a+s*n,t[1]=i*a+c*n,t[2]=u*a+h*n,t[3]=l*a+f*n,t[4]=s*a-o*n,t[5]=c*a-i*n,t[6]=h*a-u*n,t[7]=f*a-l*n,t},u.fromRotationTranslation=function(t,r,e){var n=r[0],a=r[1],o=r[2],i=r[3],u=n+n,l=a+a,s=o+o,c=n*u,h=n*l,f=n*s,d=a*l,g=a*s,v=o*s,p=i*u,m=i*l,M=i*s;return t[0]=1-(d+v),t[1]=h+M,t[2]=f-m,t[3]=0,t[4]=h-M,t[5]=1-(c+v),t[6]=g+p,t[7]=0,t[8]=f+m,t[9]=g-p,t[10]=1-(c+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},u.fromQuat=function(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],i=e+e,u=n+n,l=a+a,s=e*i,c=n*i,h=n*u,f=a*i,d=a*u,g=a*l,v=o*i,p=o*u,m=o*l;return t[0]=1-h-g,t[1]=c+m,t[2]=f-p,t[3]=0,t[4]=c-m,t[5]=1-s-g,t[6]=d+v,t[7]=0,t[8]=f+p,t[9]=d-v,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},u.frustum=function(t,r,e,n,a,o,i){var u=1/(e-r),l=1/(a-n),s=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(e+r)*u,t[9]=(a+n)*l,t[10]=(i+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*s,t[15]=0,t},u.perspective=function(t,r,e,n,a){var o=1/Math.tan(r/2),i=1/(n-a);return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*i,t[15]=0,t},u.perspectiveFromFieldOfView=function(t,r,e,n){var a=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),i=Math.tan(r.leftDegrees*Math.PI/180),u=Math.tan(r.rightDegrees*Math.PI/180),l=2/(i+u),s=2/(a+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((i-u)*l*.5),t[9]=(a-o)*s*.5,t[10]=n/(e-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*e/(e-n),t[15]=0,t},u.ortho=function(t,r,e,n,a,o,i){var u=1/(r-e),l=1/(n-a),s=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(r+e)*u,t[13]=(a+n)*l,t[14]=(i+o)*s,t[15]=1,t},u.lookAt=function(t,r,n,a){var o,i,l,s,c,h,f,d,g,v,p=r[0],m=r[1],M=r[2],b=a[0],y=a[1],w=a[2],A=n[0],k=n[1],E=n[2];return Math.abs(p-A)<e&&Math.abs(m-k)<e&&Math.abs(M-E)<e?u.identity(t):(f=p-A,d=m-k,g=M-E,v=1/Math.sqrt(f*f+d*d+g*g),f*=v,d*=v,g*=v,o=y*g-w*d,i=w*f-b*g,l=b*d-y*f,v=Math.sqrt(o*o+i*i+l*l),v?(v=1/v,o*=v,i*=v,l*=v):(o=0,i=0,l=0),s=d*l-g*i,c=g*o-f*l,h=f*i-d*o,v=Math.sqrt(s*s+c*c+h*h),v?(v=1/v,s*=v,c*=v,h*=v):(s=0,c=0,h=0),t[0]=o,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=d,t[7]=0,t[8]=l,t[9]=h,t[10]=g,t[11]=0,t[12]=-(o*p+i*m+l*M),t[13]=-(s*p+c*m+h*M),t[14]=-(f*p+d*m+g*M),t[15]=1,t)},u.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},u.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},"undefined"!=typeof exports&&(exports.mat4=u);var l={};l.create=function(){var t=new n(3);return t[0]=0,t[1]=0,t[2]=0,t},l.clone=function(t){var r=new n(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},l.fromValues=function(t,r,e){var a=new n(3);return a[0]=t,a[1]=r,a[2]=e,a},l.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},l.set=function(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t},l.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},l.subtract=function(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t},l.sub=l.subtract,l.multiply=function(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t},l.mul=l.multiply,l.divide=function(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t},l.div=l.divide,l.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},l.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},l.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},l.scaleAndAdd=function(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t},l.distance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return Math.sqrt(e*e+n*n+a*a)},l.dist=l.distance,l.squaredDistance=function(t,r){var e=r[0]-t[0],n=r[1]-t[1],a=r[2]-t[2];return e*e+n*n+a*a},l.sqrDist=l.squaredDistance,l.length=function(t){var r=t[0],e=t[1],n=t[2];return Math.sqrt(r*r+e*e+n*n)},l.len=l.length,l.squaredLength=function(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n},l.sqrLen=l.squaredLength,l.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},l.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},l.normalize=function(t,r){var e=r[0],n=r[1],a=r[2],o=e*e+n*n+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o),t},l.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},l.cross=function(t,r,e){var n=r[0],a=r[1],o=r[2],i=e[0],u=e[1],l=e[2];return t[0]=a*l-o*u,t[1]=o*i-n*l,t[2]=n*u-a*i,t},l.lerp=function(t,r,e,n){var a=r[0],o=r[1],i=r[2];return t[0]=a+n*(e[0]-a),t[1]=o+n*(e[1]-o),t[2]=i+n*(e[2]-i),t},l.random=function(t,r){r=r||1;var e=2*a()*Math.PI,n=2*a()-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t},l.transformMat4=function(t,r,e){var n=r[0],a=r[1],o=r[2],i=e[3]*n+e[7]*a+e[11]*o+e[15];return i=i||1,t[0]=(e[0]*n+e[4]*a+e[8]*o+e[12])/i,t[1]=(e[1]*n+e[5]*a+e[9]*o+e[13])/i,t[2]=(e[2]*n+e[6]*a+e[10]*o+e[14])/i,t},l.transformMat3=function(t,r,e){var n=r[0],a=r[1],o=r[2];return t[0]=n*e[0]+a*e[3]+o*e[6],t[1]=n*e[1]+a*e[4]+o*e[7],t[2]=n*e[2]+a*e[5]+o*e[8],t},l.transformQuat=function(t,r,e){var n=r[0],a=r[1],o=r[2],i=e[0],u=e[1],l=e[2],s=e[3],c=s*n+u*o-l*a,h=s*a+l*n-i*o,f=s*o+i*a-u*n,d=-i*n-u*a-l*o;return t[0]=c*s+d*-i+h*-l-f*-u,t[1]=h*s+d*-u+f*-i-c*-l,t[2]=f*s+d*-l+c*-u-h*-i,t},l.rotateX=function(t,r,e,n){var a=[],o=[];return a[0]=r[0]-e[0],a[1]=r[1]-e[1],a[2]=r[2]-e[2],o[0]=a[0],o[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),o[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},l.rotateY=function(t,r,e,n){var a=[],o=[];return a[0]=r[0]-e[0],a[1]=r[1]-e[1],a[2]=r[2]-e[2],o[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),o[1]=a[1],o[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},l.rotateZ=function(t,r,e,n){var a=[],o=[];return a[0]=r[0]-e[0],a[1]=r[1]-e[1],a[2]=r[2]-e[2],o[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),o[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),o[2]=a[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},l.forEach=function(){var t=l.create();return function(r,e,n,a,o,i){var u,l;for(e||(e=3),n||(n=0),l=a?Math.min(a*e+n,r.length):r.length,u=n;l>u;u+=e)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],o(t,t,i),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}(),l.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},"undefined"!=typeof exports&&(exports.vec3=l),function s(t,r,e){function n(o,i){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!i&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(r){var e=t[o][1][r];return n(e?e:r)},c,c.exports,s,t,r,e)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<e.length;o++)n(e[o]);return n}({1:[function(t){colorString=t("./color-string")},{"./color-string":2}],2:[function(t,r){function e(t){if(t){var r=/^#([a-fA-F0-9]{3})$/,e=/^#([a-fA-F0-9]{6})$/,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+)\s*)?\)$/,a=/^rgba?\(\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*(?:,\s*([\d\.]+)\s*)?\)$/,o=/(\D+)/,i=[0,0,0],u=1,l=t.match(r);if(l){l=l[1];for(var s=0;s<i.length;s++)i[s]=parseInt(l[s]+l[s],16)}else if(l=t.match(e)){l=l[1];for(var s=0;s<i.length;s++)i[s]=parseInt(l.slice(2*s,2*s+2),16)}else if(l=t.match(n)){for(var s=0;s<i.length;s++)i[s]=parseInt(l[s+1]);u=parseFloat(l[4])}else if(l=t.match(a)){for(var s=0;s<i.length;s++)i[s]=Math.round(2.55*parseFloat(l[s+1]));u=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(i=b.keyword2rgb(l[1]),!i)return}for(var s=0;s<i.length;s++)i[s]=m(i[s],0,255);return u=u||0==u?m(u,0,1):1,i.push(u),i}}function n(t){if(t){var r=/^hsla?\(\s*(\d+)(?:deg)?\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/,e=t.match(r);if(e){var n=m(parseInt(e[1]),0,360),a=m(parseFloat(e[2]),0,100),o=m(parseFloat(e[3]),0,100),i=m(parseFloat(e[4])||1,0,1);return[n,a,o,i]}}}function a(t){if(t){var r=/^hwb\(\s*(\d+)(?:deg)?\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/,e=t.match(r);if(e){var n=m(parseInt(e[1]),0,360),a=m(parseFloat(e[2]),0,100),o=m(parseFloat(e[3]),0,100),i=m(parseFloat(e[4])||1,0,1);return[n,a,o,i]}}}function o(t){var r=e(t);return r&&r.slice(0,3)}function i(t){var r=n(t);return r&&r.slice(0,3)}function u(t){var r=e(t);return r?r[3]:(r=n(t))?r[3]:(r=a(t))?r[3]:void 0}function l(t){return"#"+M(t[0])+M(t[1])+M(t[2])}function s(t,r){return 1>r||t[3]&&t[3]<1?c(t,r):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function c(t,r){return void 0===r&&(r=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+r+")"}function h(t,r){if(1>r||t[3]&&t[3]<1)return f(t,r);var e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),a=Math.round(t[2]/255*100);return"rgb("+e+"%, "+n+"%, "+a+"%)"}function f(t,r){var e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),a=Math.round(t[2]/255*100);return"rgba("+e+"%, "+n+"%, "+a+"%, "+(r||t[3]||1)+")"}function d(t,r){return 1>r||t[3]&&t[3]<1?g(t,r):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function g(t,r){return void 0===r&&(r=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+r+")"}function v(t,r){return void 0===r&&(r=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==r&&1!==r?", "+r:"")+")"}function p(t){return b.rgb2keyword(t.slice(0,3))}function m(t,r,e){return Math.min(Math.max(r,t),e)}function M(t){var r=t.toString(16).toUpperCase();return r.length<2?"0"+r:r}var b=t("color-convert");r.exports={getRgba:e,getHsla:n,getRgb:o,getHsl:i,getHwb:a,getAlpha:u,hexString:l,rgbString:s,rgbaString:c,percentString:h,percentaString:f,hslString:d,hslaString:g,hwbString:v,keyword:p}},{"color-convert":4}],3:[function(t,r){function e(t){var r,e,n,a=t[0]/255,o=t[1]/255,i=t[2]/255,u=Math.min(a,o,i),l=Math.max(a,o,i),s=l-u;return l==u?r=0:a==l?r=(o-i)/s:o==l?r=2+(i-a)/s:i==l&&(r=4+(a-o)/s),r=Math.min(60*r,360),0>r&&(r+=360),n=(u+l)/2,e=l==u?0:.5>=n?s/(l+u):s/(2-l-u),[r,100*e,100*n]}function n(t){var r,e,n=t[0],a=t[1],o=t[2],i=Math.min(n,a,o),u=Math.max(n,a,o),l=u-i;return e=0==u?0:l/u*1e3/10,u==i?r=0:n==u?r=(a-o)/l:a==u?r=2+(o-n)/l:o==u&&(r=4+(n-a)/l),r=Math.min(60*r,360),0>r&&(r+=360),v=u/255*1e3/10,[r,e,v]}function a(t){var r,e,n,a,o=t[0]/255,i=t[1]/255,u=t[2]/255;return a=Math.min(1-o,1-i,1-u),r=(1-o-a)/(1-a),e=(1-i-a)/(1-a),n=(1-u-a)/(1-a),[100*r,100*e,100*n,100*a]}function o(t){return S[JSON.stringify(t)]}function i(t){var r=t[0]/255,e=t[1]/255,n=t[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var a=.4124*r+.3576*e+.1805*n,o=.2126*r+.7152*e+.0722*n,i=.0193*r+.1192*e+.9505*n;return[100*a,100*o,100*i]}function u(t){var r,e,n,a=i(t),o=a[0],u=a[1],l=a[2];return o/=95.047,u/=100,l/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,r=116*u-16,e=500*(o-u),n=200*(u-l),[r,e,n]}function l(t){var r,e,n,a,o,i=t[0]/360,u=t[1]/100,l=t[2]/100;if(0==u)return o=255*l,[o,o,o];e=.5>l?l*(1+u):l+u-l*u,r=2*l-e,a=[0,0,0];for(var s=0;3>s;s++)n=i+1/3*-(s-1),0>n&&n++,n>1&&n--,o=1>6*n?r+6*(e-r)*n:1>2*n?e:2>3*n?r+(e-r)*(2/3-n)*6:r,a[s]=255*o;return a}function s(t){var r,e,n=t[0],a=t[1]/100,o=t[2]/100;return o*=2,a*=1>=o?o:2-o,e=(o+a)/2,r=2*a/(o+a),[n,100*a,100*e]}function c(t){return a(l(t))}function h(t){return o(l(t))}function f(t){var r=t[0]/60,e=t[1]/100,n=t[2]/100,a=Math.floor(r)%6,o=r-Math.floor(r),i=255*n*(1-e),u=255*n*(1-e*o),l=255*n*(1-e*(1-o)),n=255*n;switch(a){case 0:return[n,l,i];case 1:return[u,n,i];case 2:return[i,n,l];case 3:return[i,u,n];case 4:return[l,i,n];case 5:return[n,i,u]}}function d(t){var r,e,n=t[0],a=t[1]/100,o=t[2]/100;return e=(2-a)*o,r=a*o,r/=1>=e?e:2-e,e/=2,[n,100*r,100*e]}function g(t){return a(f(t))}function p(t){return o(f(t))}function m(t){var r,e,n,a=t[0]/100,o=t[1]/100,i=t[2]/100,u=t[3]/100;return r=1-Math.min(1,a*(1-u)+u),e=1-Math.min(1,o*(1-u)+u),n=1-Math.min(1,i*(1-u)+u),[255*r,255*e,255*n]}function M(t){return e(m(t))}function b(t){return n(m(t))}function y(t){return o(m(t))}function w(t){var r,e,n,a=t[0]/100,o=t[1]/100,i=t[2]/100;return r=3.2406*a+-1.5372*o+i*-.4986,e=a*-.9689+1.8758*o+.0415*i,n=.0557*a+o*-.204+1.057*i,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,r=0>r?0:r,e=0>e?0:e,n=0>n?0:n,[255*r,255*e,255*n]}function A(t){return C[t]}function k(t){return e(A(t))}function E(t){return n(A(t))}function F(t){return a(A(t))}r.exports={rgb2hsl:e,rgb2hsv:n,rgb2cmyk:a,rgb2keyword:o,rgb2xyz:i,rgb2lab:u,hsl2rgb:l,hsl2hsv:s,hsl2cmyk:c,hsl2keyword:h,hsv2rgb:f,hsv2hsl:d,hsv2cmyk:g,hsv2keyword:p,cmyk2rgb:m,cmyk2hsl:M,cmyk2hsv:b,cmyk2keyword:y,keyword2rgb:A,keyword2hsl:k,keyword2hsv:E,keyword2cmyk:F,xyz2rgb:w};var C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},S={};for(var N in C)S[JSON.stringify(C[N])]=N},{}],4:[function(t,r,e){var n=t("./conversions"),e={};r.exports=e;for(var a in n){e[a+"Raw"]=function(t){return function(r){return"number"==typeof r&&(r=Array.prototype.slice.call(arguments)),n[t](r)}}(a);var o=/(\w+)2(\w+)/.exec(a),i=o[1],u=o[2];e[i]=e[i]||{},e[a]=e[i][u]=function(t){return function(r){"number"==typeof r&&(r=Array.prototype.slice.call(arguments));var e=n[t](r);if("string"==typeof e||void 0===e)return e;for(var a=0;a<e.length;a++)e[a]=Math.round(e[a]);return e}}(a)}},{"./conversions":3}]},{},[1]),function(){function e(t,r,e){if(t.length)return console.error.apply(console,t);e.useProgram(r),e.enable(e.DEPTH_TEST);var a=g.getUniforms(e,r),i=o(e,a);e.uniform4fv(a.uColor,p),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),n(e,r,function(t){var r=performance.now();!function n(o){var l=o-r;r=o,u.rotateY(i,i,h(l*b)),e.uniformMatrix4fv(a.uModel,!1,i),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.drawElements(e.TRIANGLES,t,e.UNSIGNED_SHORT,0),requestAnimationFrame(n)}(r)})}function n(r,e,n){var o=g.getAttributes(r,e),i=t();
a(r,r.ARRAY_BUFFER,new Float32Array(i.vertices),3,o.aPosition),a(r,r.ARRAY_BUFFER,new Float32Array(i.normals),3,o.aNormal),a(r,r.ELEMENT_ARRAY_BUFFER,new Uint16Array(i.indices)),n(i.indices.length)}function a(t,r,e,n,a){var o=t.createBuffer();if(!o)throw new Error("Failed to create buffer");t.bindBuffer(r,o),t.bufferData(r,e,t.STATIC_DRAW),r===t.ARRAY_BUFFER&&(t.vertexAttribPointer(a,n,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a))}function o(t,r){var e=i();return t.uniformMatrix4fv(r.uModel,!1,e),t.uniformMatrix4fv(r.uView,!1,s()),t.uniformMatrix4fv(r.uProj,!1,c()),e}function i(){var t=u.create();return u.scale(t,t,l.fromValues(1.8,1.8,1.8)),t}function s(){var t=l.fromValues(2,2,3),r=l.fromValues(0,0,0),e=l.fromValues(0,1,0),n=u.create();return u.lookAt(n,t,r,e),n}function c(){var t=u.create();return u.perspective(t,h(75),v,.01,50),t}function h(t){return t*Math.PI/180}function f(t){return.36/t}function d(){console.log("here I am ^_^ "),console.log(this);var t=parseInt(this.getAttribute("width"),10),n=parseInt(this.getAttribute("height"),10);if(isNaN(t)||isNaN(n))return console.error("width and height attributes required");var a=document.createElement("canvas");a.width=t,a.height=n,v=t/n,p=colorString.getRgba(this.getAttribute("color"));var o=a.getContext("webgl",{preserveDrawingBuffer:!0});g=new r(o),g.loadFromStr(m,M,e),this.appendChild(a)}{var g,v,p,m="uniform mat4 uView;\nuniform mat4 uProj;\nuniform mat4 uModel;\n\nattribute vec4 aPosition;\nattribute vec4 aNormal;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\nvoid main () {\n  vNormal = vec3(uModel * aNormal);\n  vPosition = vec3(uModel * aPosition);\n\n  gl_Position = uProj * uView * uModel * aPosition;\n}",M="precision mediump float;\n\nuniform vec4 uColor;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\nvec3 lightPosition = vec3(2, 2, 0);\nvec3 ambient = vec3(0.3);\nvec3 lightColor = vec3(1.0);\n\nvoid main () {\n  vec3 n = normalize(vNormal);\n  vec3 l = lightPosition - vPosition;\n\n  float nDotL = clamp(dot(n, normalize(l)) / length(l) * 2.0, 0.0, 1.0);\n  vec3 color = abs(n);\n\n  gl_FragColor = uColor;\n}",b=f(10);document.registerElement("geo-metry",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:d},attachedCallback:{value:function(){console.log("live on DOM ;-) ")}},detachedCallback:{value:function(){console.log("leaving the DOM :-( )")}},attributeChangedCallback:{value:function(t,r,e){null==r?console.log("got a new attribute ",t," with value ",e):null==e?console.log("somebody removed ",t," its value was ",r):console.log(t," changed from ",r," to ",e)}}})})}}(),delete window.colorString}();